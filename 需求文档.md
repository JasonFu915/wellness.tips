# 📄 需求文档：健康小贴士静态网站（Next.js + Markdown + Vercel）

**项目名称**：Daily Health Tips  
**目标**：构建一个支持多语言、SEO 友好、AdSense 就绪的静态内容网站，通过自动化内容更新实现被动收入  
**技术栈**：Next.js 14 (App Router) + Markdown + Vercel + GitHub Actions  
**最后更新**：2026 年 2 月 11 日  

---

## 一、项目目标

- ✅ 提供科学、实用、每日更新的健康生活建议（睡眠、饮食、运动、心理等）  
- ✅ 支持 **5 种语言**（en, zh, es, fr, de），覆盖全球主流用户  
- ✅ 通过 **Google AdSense** 实现被动变现（RPM 目标：$12–$20）  
- ✅ 内容可 **全自动或半自动更新**，无需手动维护  
- ✅ 网站加载速度 <1.2 秒（Lighthouse 性能 ≥95）

---

## 二、核心功能需求

### 1. 内容管理
| 功能 | 说明 |
|------|------|
| **Markdown 内容源** | 所有文章以 `.md` 文件存储于 `content/{lang}/` 目录 |
| **Frontmatter 元数据** | 每篇包含：`title`, `description`, `publishDate`, `tags`, `lang` |
| **多语言路由** | 自动生成 `/en/...`, `/zh/...` 等路径，语言间可切换 |
| **文章列表页** | 按语言分组展示，支持分页（每页 10 篇） |
| **文章详情页** | 渲染 Markdown 为 HTML，保留标题、列表、加粗等格式 |

### 2. SEO 优化
| 功能 | 说明 |
|------|------|
| **动态 `<head>`** | 自动注入 title/description 到 `<head>` |
| **Open Graph 标签** | 支持社交媒体分享预览 |
| **sitemap.xml** | 自动生成多语言站点地图 |
| **robots.txt** | 允许搜索引擎抓取 |
| **结构化数据** | 添加 Article Schema（利于 Google 新闻收录） |

### 3. 广告集成（AdSense）
| 功能 | 说明 |
|------|------|
| **全局 AdSense 脚本** | 在 `_app.js` 中加载 `adsbygoogle.js` |
| **文内广告位** | 在文章顶部、中部、底部插入 `<ins class="adsbygoogle">` |
| **响应式广告** | 使用 `data-full-width-responsive="true"` 适配移动端 |
| **隐私政策页** | 必备页面，满足 AdSense 审核要求 |

### 4. 用户体验
| 功能 | 说明 |
|------|------|
| **响应式设计** | 适配手机、平板、桌面 |
| **深色/浅色模式** | 用户偏好自动切换 |
| **语言切换器** | 顶部导航栏提供语言选择下拉菜单 |
| **快速搜索** | 基于 Fuse.js 的客户端全文搜索（可选） |

---

## 三、技术架构

### 目录结构
```
health-tips/
├── app/
│   ├── [lang]/
│   │   ├── [slug]/
│   │   │   └── page.js        # 文章详情页
│   │   └── page.js            # 语言首页（文章列表）
│   ├── privacy-policy/
│   │   └── page.js            # 隐私政策页（AdSense 必需）
│   ├── layout.js              # 全局布局（含 AdSense 脚本）
│   └── not-found.js           # 404 页面
├── content/
│   ├── en/
│   ├── zh/
│   ├── es/
│   ├── fr/
│   └── de/
├── public/
│   └── favicon.ico
├── components/
│   ├── AdBlock.js             # AdSense 广告组件
│   └── LanguageSwitcher.js    # 语言切换器
├── lib/
│   ├── markdown.js            # Markdown 解析工具
│   └── posts.js               # 文章数据获取函数
├── .github/workflows/
│   └── auto-update.yml        # 自动内容生成流水线（可选）
├── next.config.js
├── package.json
└── vercel.json                # Vercel 配置（重定向、headers）
```

### 关键依赖
```json
{
  "dependencies": {
    "next": "14.2.0",
    "react": "18.3.0",
    "react-dom": "18.3.0",
    "gray-matter": "^4.0.3",     // 解析 Frontmatter
    "remark": "^15.0.1",         // Markdown 转 HTML
    "remark-html": "^16.0.1"
  },
  "devDependencies": {
    "@types/node": "20.11.0",
    "autoprefixer": "10.4.17",
    "postcss": "8.4.35",
    "tailwindcss": "3.4.1"
  }
}
```

---

## 四、内容规范

### Markdown 示例（`content/en/sleep-better.md`）
```markdown
---
title: "How to Fall Asleep in 10 Minutes (Science-Backed)"
description: "A proven method to fall asleep fast without pills—used by sleep clinics worldwide."
publishDate: "2026-02-10"
tags: ["sleep", "insomnia", "relaxation"]
lang: "en"
---

Staring at the ceiling at 2 AM? You're not alone—70% of adults struggle with sleep onset...

## 🧠 What the Science Says
Research from the Sleep Foundation shows that...

## ✅ Step-by-Step Method
1. **Dim lights** 1 hour before bed  
2. **Practice 4-7-8 breathing**: inhale 4s, hold 7s, exhale 8s  
3. **Keep bedroom at 18°C** (65°F)

> ⚠️ Avoid: Scrolling your phone in bed—it suppresses melatonin.

## 💡 Bonus Tip
Try “paradoxical intention”: stay awake with eyes open → reduces performance anxiety.
```

### 多语言本地化要求
- **非直译**：根据文化调整案例（如德国版引用 RKI 数据，中文版加入“子时养生”概念）  
- **日期格式**：en → `Feb 10, 2026`；zh → `2026年2月10日`  
- **度量单位**：en → `65°F`；de → `18°C`

---

## 五、部署与运维

### Vercel 配置（`vercel.json`）
```json
{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Content-Type-Options", "value": "nosniff" },
        { "key": "Referrer-Policy", "value": "strict-origin-when-cross-origin" }
      ]
    }
  ],
  "redirects": [
    { "source": "/", "destination": "/en" }
  ]
}
```

### 自动化内容更新（可选）
- **触发条件**：每周一 9:00 UTC  
- **流程**：
  1. 调用 OpenAI API 生成英文健康贴士  
  2. 用 DeepL API 翻译为 4 种语言  
  3. 保存为 Markdown 文件并推送到 GitHub  
  4. Vercel 自动部署新内容  
- **成本**：GitHub Actions 免费额度 + LLM API 费用（约 $5/月）

---

## 六、成本预算

| 项目 | 费用 | 说明 |
|------|------|------|
| **域名** | $12/年 | 如 `dailyhealth.tips`（Porkbun） |
| **Vercel 托管** | $0 | Hobby 计划（免费） |
| **GitHub 仓库** | $0 | 公开仓库 |
| **LLM API（可选）** | $0–$10/月 | 仅自动化更新时产生 |
| **总计（首年）** | **≈ $12** | 仅为域名费用 |

> 💡 **无隐藏成本**：无插件订阅、无主题授权、无维护费用

---

## 七、验收标准

- [ ] 网站在 Vercel 成功部署，自定义域名生效  
- [ ] 至少 10 篇多语言文章可访问（如 `/en/sleep-better`, `/zh/如何睡得更好`）  
- [ ] 每篇文章包含 AdSense 广告位（检查 DOM 中存在 `adsbygoogle`）  
- [ ] Lighthouse 性能评分 ≥90  
- [ ] `sitemap.xml` 和 `robots.txt` 可访问  
- [ ] 隐私政策页存在且内容合规  

---

## 八、附录：启动资源包

项目启动时需包含以下内容：
1. **基础代码模板**（含 App Router 结构 + Markdown 解析）  
2. **10 篇健康贴士 Markdown 文件**（5 语言 × 2 主题）  
3. **AdSense 集成组件**（`AdBlock.js`）  
4. **Vercel 部署指南**（含 DNS 设置截图）  

> ✅ 此文档可直接交付开发人员实施，或作为自主搭建的 checklist。

---  
**批准人**：________________  
**日期**：2026 年 2 月 11 日